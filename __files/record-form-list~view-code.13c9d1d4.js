(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["record-form-list~view-code"],{"0967":function(t,e,o){"use strict";o("5953")},1848:function(t,e,o){},"1c33":function(t,e,o){"use strict";o("e319")},"1df1":function(t,e,o){},"2cda":function(t,e,o){"use strict";o("85ff")},"32d6":function(t,e,o){"use strict";o("e139")},4534:function(t,e,o){},"472d":function(t,e,o){"use strict";o("1df1")},5953:function(t,e,o){},5980:function(t,e,o){},6522:function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:"record x-record record_"+t.logMsg.expand_log+" "+(t.hasRecordContent?"x-hasRecordContent":"x-noRecordContent")+" "+(4===t.logMsg.expand_log?"record-card":"")+" "+(t.show2?"show2":"noRecordView")+" "+(t.placeBottom?"placeBottom":"")+" "+(t.afterContent?"afterContent":"")+" "+(t.codeData.hasOpenMsg?"has-bottom-msg":"")+" "+(t.noAddRecordBtn||2!==t.logMsg.expand_log?"":"show-expand-btn")+" "+(t.isBottomCardStyle?"bottomCardStyle":"")},[t.show2&&t.showDynamic?o("div",{class:"latest-record "+(1!==t.codeData.log_msg.recordview_position?"new-three-record":"")+" "+(t.hasTaskOrStatus?"hasTaskOrStatus":""),style:{marginTop:t.$$u(t.$$getValue(t.cmpInfo,"recordCheck.gap.top")),marginBottom:t.$$u(t.$$getValue(t.cmpInfo,"recordCheck.gap.bottom"))},attrs:{id:"latest-record"},on:{click:t.goHistory}},[o("div",{staticClass:"top-tip"},[o("div",{staticClass:"tip tip-ellipse",class:"font-size-18-"+t.currentFontSize},[t._v(" "+t._s(t.logMsg.record_summary_title)+" ")]),t.isStatsStyle&&!t.show1?o("span",{staticClass:"statsViewAll",class:"font-size-13-"+t.currentFontSize},[t._v(" 全部"+t._s(t.recordsTotal)+"条 "),o("i",{staticClass:"clifont anticon-cli-angle-right"})]):t._e()]),t.dynamicStyleType===t.DynamicStyleType.TimeLine?o("block",[o("TimeLineLists",{attrs:{records:t.records,logMsg:t.logMsg,show1:t.show1,openRecordActive:t.openRecordActive,codeData:t.codeData,getRecordLoading:t.getRecordLoading,recordDetailStatusLists:t.recordDetailStatusLists,styleCfg:t.dynamicStyleCfg,afterContent:t.afterContent,currentFontSize:t.currentFontSize,managerAuth:t.managerAuth},on:{showRuleIntro:t.showRuleIntro}},[!t.show1&&t.records&&t.records.length&&t.recordsTotal?o("div",{staticClass:"add timeLineViewAllWrapper",class:"font-size-"+(t.isBottomCardStyle?15:13)+"-"+t.currentFontSize},[t._v(" 全部"+t._s(t.recordsTotal)+"条 ")]):t._e()])],1):t._e(),t.dynamicStyleType===t.DynamicStyleType.UnionList?o("block",[o("RecordBlockLists",{attrs:{records:t.records,logMsg:t.logMsg,show1:t.show1,openRecordActive:t.openRecordActive,codeData:t.codeData,getRecordLoading:t.getRecordLoading,recordDetailStatusLists:t.recordDetailStatusLists,styleCfg:t.dynamicStyleCfg,afterContent:t.afterContent,currentFontSize:t.currentFontSize,managerAuth:t.managerAuth},on:{showRuleIntro:t.showRuleIntro}},[!t.show1&&t.records&&t.records.length&&t.recordsTotal?o("div",{staticClass:"add blockListViewAllWrapper",class:"font-size-13-"+t.currentFontSize},[t._v(" 全部"+t._s(t.recordsTotal)+"条 ")]):t._e()])],1):t._e(),t.dynamicStyleType===t.DynamicStyleType.Stats?[o("operate-stats",{attrs:{styleCfg:t.dynamicStyleCfg,recordStatsList:t.recordStatsList,show1:t.show1,afterContent:t.afterContent,currentFontSize:t.currentFontSize}})]:t._e(),t.dynamicStyleType===t.DynamicStyleType.ClosedStats?[o("status-panel",{attrs:{styleCfg:t.dynamicStyleCfg,recordStatus:t.recordDetailStatusLists,show1:t.show1,afterContent:t.afterContent,currentFontSize:t.currentFontSize}})]:t._e(),t.managerAuth.showTip&&t.dynamicStyleType!==t.DynamicStyleType.TimeLine&&t.dynamicStyleType!==t.DynamicStyleType.UnionList?o("div",{staticClass:"managerRuleInfo",on:{click:function(e){return e.stopPropagation(),t.showRuleIntro.apply(null,arguments)}}},[t._v(" "+t._s(t.managerAuth.tipText)+" "),o("i",{staticClass:"clifont anticon-about"})]):t._e()],2):t._e(),t.hasOpenRecordLog&&t.operateData.length&&t.showOperatePanel?o("div",{staticClass:"add-record",style:{marginTop:t.$$u(t.$$getValue(t.cmpInfo,"recordItemContent.gap.top")),marginBottom:t.$$u(t.$$getValue(t.cmpInfo,"recordItemContent.gap.bottom"))}},[t.show3?o("div",{staticClass:"items"},[!t.noRecordTag&&t.logMsgTag?o("div",{staticClass:"tip logMsgTip",class:[{listType:0===t.logMsg.expand_log,minimalListType:6===t.logMsg.expand_log,iconList:t.isIconList},"font-size-18-"+t.currentFontSize]},[t._v(" "+t._s(t.logMsgTag)+" ")]):t._e(),5===t.logMsg.expand_log?o("div",{staticClass:"gridItemWrapper",class:{gridBordered:t.afterContent&&!t.isCompEmpty}},t._l(t.gridOperateData,(function(e){return o("div",{key:e.id,staticClass:"gridItem operateWrapHover",class:[e.renderClass],on:{click:function(o){return t.goRecordFormPage(e)}}},[o("div",{staticClass:"iconWrapper"},[o("span",{staticClass:"icon",style:"\n                background-image:url('"+e.operation_msg.icon_path+"');\n                background-size:cover;\n                background-position:center center;\n                background-repeat:no-repeat;\n              "})]),o("span",{staticClass:"title",class:"font-size-14-"+t.currentFontSize,style:{lineHeight:"120%"}},[t._v(" "+t._s(e.operation_msg.title||t.OPERATE_ITEM_DEFAULT_TITLE)+" ")])])})),0):6===t.logMsg.expand_log?o("div",{staticClass:"minimalList"},t._l(t.operateData,(function(e){return o("div",{key:e.id,staticClass:"minimalListItem operateWrapHover",on:{click:function(o){return t.goRecordFormPage(e)}}},[o("span",{staticClass:"title",class:"font-size-16-"+t.currentFontSize,style:{lineHeight:"120%"}},[t._v(" "+t._s(e.operation_msg.title||t.OPERATE_ITEM_DEFAULT_TITLE)+" ")]),t._m(0,!0)])})),0):t._l(t.operateData,(function(e,s){return o("div",{key:e.id,class:"item\n          "+(4===t.logMsg.expand_log?"cardItem":"listItem")+"\n          "+(t.isIconList?"iconList":"")+"\n          "+(t.noAddRecordBtn?"noAddRecordBtn":"")+" "+(t.operateData.length-1===s?"last-item":""),on:{click:function(o){return t.goRecordFormPage(e)}}},[4===t.logMsg.expand_log?o("div",{staticClass:"cardAddOperateWrap operateWrapHover",style:{backgroundColor:t.transColor(e.operation_msg.bgcolor).listBgColor}},[o("div",{staticClass:"info"},[o("div",{staticClass:"title",class:"font-size-17-"+t.currentFontSize},[t._v(" "+t._s(e.operation_msg.title||t.OPERATE_ITEM_DEFAULT_TITLE)+" ")]),e.operation_msg.subtitle?o("div",{staticClass:"desc",class:"font-size-14-"+t.currentFontSize,style:{lineHeight:"120%"}},[t._v(" "+t._s(e.operation_msg.subtitle)+" ")]):t._e()]),e.$customLimit?o("div",{staticClass:"limitInfo"},[t._v("已达填写上限")]):o("div",{class:"action font-size-14-"+t.currentFontSize,style:{backgroundColor:t.transColor(e.operation_msg.bgcolor).btnBgColor,color:t.transColor(e.operation_msg.bgcolor).btnColor,borderColor:t.transColor(e.operation_msg.bgcolor).btnBorderColor}},[t._v(" "+t._s(e.operation_msg.button_text||t.OPERATE_ITEM_DEFAULT_BUTTON_TEXT)+" ")])]):[t.isIconList?o("div",{staticClass:"iconWrapper"},[o("sapn",{staticClass:"icon",style:{backgroundImage:"url('"+e.operation_msg.icon_path+"')"}})],1):t._e(),o("div",{staticClass:"info"},[o("div",{staticClass:"title",class:"font-size-17-"+t.currentFontSize},[t._v(" "+t._s(e.operation_msg.title||t.OPERATE_ITEM_DEFAULT_TITLE)+" ")]),e.operation_msg.subtitle?o("div",{staticClass:"desc",class:"font-size-14-"+t.currentFontSize},[t._v(" "+t._s(e.operation_msg.subtitle)+" ")]):t._e()]),e.$customLimit?o("div",{staticClass:"limitInfo"},[t._v("已达填写上限")]):o("div",{class:"action font-size-14-"+t.currentFontSize},[t._v(" "+t._s(e.operation_msg.button_text||t.OPERATE_ITEM_DEFAULT_BUTTON_TEXT)+" ")])]],2)}))],2):t._e(),t.show4?o("div",[1!==t.logMsg.expand_log||t.$$getValue(t.operateData,"0.$elData.can_add_record_time")?t._l(t.logMsg.data_list,(function(e){return o("div",{key:e.id,class:"single-form "+(t.noAddRecordBtn?"noAddRecordBtn":"")},[o("record-form",{attrs:{"tpl-id":e.tpl_id,"org-id":e.org_id,"tpl-token":e.record_tpl_token,currentFontSize:t.currentFontSize,mainColor:t.mainColor},on:{showTip:t.showRecordTip}})],1)})):o("div",{staticClass:"single-form"},[o("div",{staticClass:"time-limit-wrapper"},[o("i",{class:"clifont "+(t.$$getValue(t.logMsg,"data_list.0.is_before_record_time")?"anticon-cli-history":"anticon-tingzhitianxie")+" limit-icon"}),o("div",{staticClass:"time-limit-title",class:"font-size-18-"+t.currentFontSize},[t._v(" "+t._s(2===t.$$getValue(t.logMsg,"data_list.0.time_limit_type")?"此表单暂未开放填写":t.$$getValue(t.logMsg,"data_list.0.is_before_record_time")?"该表单还未开放填写":"该表单已停止填写")+" ")]),1===t.$$getValue(t.logMsg,"data_list.0.time_limit_type")?o("div",[t.$$getValue(t.logMsg,"data_list.0.is_before_record_time")?o("div",{staticClass:"time-limit-info",class:"font-size-14-"+t.currentFontSize},[t._v(" 填写开放时间为 "),t.$$getValue(t.logMsg,"data_list.0.time_limit_record.0.end_time")?o("div",[o("div",[t._v(" "+t._s(t.timestamp2Date(t.$$getValue(t.logMsg,"data_list.0.time_limit_record.0.start_time")))+" 至 "+t._s(t.timestamp2Date(t.$$getValue(t.logMsg,"data_list.0.time_limit_record.0.end_time")))+" ")])]):o("div",[t._v(" "+t._s(t.timestamp2Date(t.$$getValue(t.logMsg,"data_list.0.time_limit_record.0.start_time")))+" ")])]):o("div",{staticClass:"time-limit-info",class:"font-size-14-"+t.currentFontSize},[t._v(" 填写截止日期为 "+t._s(t.timestamp2Date(t.$$getValue(t.logMsg,"data_list.0.time_limit_record.0.end_time")))+" ")])]):t.$$getValue(t.logMsg,"data_list.0.time_limit_record.length")?o("div",[o("div",{staticClass:"time-limit-info",class:"font-size-14-"+t.currentFontSize},[t._v(" 每日开启时间为 "),t._l(t.$$getValue(t.logMsg,"data_list.0.time_limit_record",[]),(function(e,s){return o("span",{key:e.id,style:t.$$getValue(t.logMsg,"data_list.0.time_limit_record",[]).length<=3?"white-space: nowrap":""},[t._v(" "+t._s(e.start_time)+" - "+t._s(e.end_time)+" "+t._s(t.showDot(s)?"，":"")+" ")])}))],2)]):t._e()])])],2):t._e(),t.noAddRecordBtn||2!==t.logMsg.expand_log?t._e():o("portal",{attrs:{to:"asExpand_log_2"}},[o("div",{staticClass:"add-record asExpand_log_2"},[o("div",{staticClass:"items"},t._l(t.operateData,(function(e,s){return o("div",{key:e.id,class:"item cardItem\n            "+(t.noAddRecordBtn?"noAddRecordBtn":"")+" "+(t.operateData.length-1===s?"last-item":""),on:{click:function(o){return t.goRecordFormPage(e)}}},[o("div",{staticClass:"cardAddOperateWrap operateWrapHover",style:{backgroundColor:t.transColor(e.operation_msg.bgcolor).listBgColor}},[o("div",{staticClass:"info"},[o("div",{staticClass:"title",class:"font-size-17-"+t.currentFontSize},[t._v(" "+t._s(e.operation_msg.title||t.OPERATE_ITEM_DEFAULT_TITLE)+" ")]),e.operation_msg.subtitle?o("div",{staticClass:"desc",class:"font-size-14-"+t.currentFontSize,style:{lineHeight:"120%"}},[t._v(" "+t._s(e.operation_msg.subtitle)+" ")]):t._e()]),e.$customLimit?o("div",{staticClass:"limitInfo"},[t._v("已达填写上限")]):o("div",{class:"action font-size-14-"+t.currentFontSize,style:{backgroundColor:t.transColor(e.operation_msg.bgcolor).btnBgColor,color:t.transColor(e.operation_msg.bgcolor).btnColor,borderColor:t.transColor(e.operation_msg.bgcolor).btnBorderColor}},[t._v(" "+t._s(e.operation_msg.button_text||t.OPERATE_ITEM_DEFAULT_BUTTON_TEXT)+" ")])])])})),0)])]),o("portal",{attrs:{to:t.capture&&!t.codeData.hasOpenMsg?"footer-portal":"fixed-op-entry"}},[t.noAddRecordBtn||2!==t.logMsg.expand_log?t._e():o("div",[o("div",{class:"add-button-fixed "+(t.isBgImgMode?"is-bg-img-mode-button":""),style:t.calcMinaBottom()+(t.capture?"position: static;":""),attrs:{tyle:"button"},on:{click:t.goFormListPage}},[o("div",{staticClass:"word",class:"font-size-16-"+t.currentFontSizeWithoutApply,style:{background:t.bottomBtnBgColor,color:t.codeColorInfo.gradient.recordButtonEntryColor||t.expBtnColor}},[t._v(" "+t._s(t.codeData.log_msg.expand_btn||"填写表单")+" ")])])])]),o("portal-target",{attrs:{name:"fixed-op-entry"}})],1):t._e(),t.noAddRecordBtn||2!==t.logMsg.expand_log?t._e():o("bottom-modal",{ref:"halfScreenOperate",staticClass:"operationHalfScreen",attrs:{modalStyle:{zIndex:1e3},maskStyle:{zIndex:999}}},[o("div",{staticClass:"operation-header",attrs:{slot:"header"},on:{touchmove:function(t){return t.stopPropagation(),t.preventDefault(),function(){}.apply(null,arguments)}},slot:"header"},[o("div",{staticClass:"operation-title",class:[{listType:0===t.logMsg.expand_log,minimalListType:6===t.logMsg.expand_log},"font-size-18-"+t.currentFontSize]},[t._v(" "+t._s(t.logMsgTag)+"  ")])]),o("div",{staticClass:"operation-content",attrs:{slot:"content"},slot:"content"},[o("portal-target",{attrs:{name:"asExpand_log_2"}})],1),o("div",{staticClass:"operation-footer",attrs:{slot:"footer"},slot:"footer"},[o("div",{staticClass:"textBtn-back",class:"font-size-17-"+t.currentFontSize,on:{click:t.hideHalfScreenOperate}},[t._v(" 返回 ")])])])],1)},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"iconArrowRight"},[o("i",{staticClass:"clifont anticon-gengduo"})])}],a=(o("caad"),o("9ab4")),r=o("1b40"),n=o("131c"),c=o("6022"),l=o("4a75"),d=o("e0af"),p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"timeLineContainer",class:{afterContent:t.afterContent}},[t.show1?o("div",{class:"view-password new-block-info "+(t.logMsg.record_summary_title?"":"no-title")+" "+(1===t.codeData.log_msg.open_record_active||1===t.openRecordActive?"view-password-new":"")+"  font-size-15-"+t.currentFontSize+" update-block-info"},[1===t.codeData.log_msg.open_record_active||1===t.openRecordActive?o("block",[t._v(" 记录数据已被加密，需要输入密码查看 ")]):o("block",[t._v(" 记录数据已被加密，需要输入密码查看"),o("br")])],1):t.getRecordLoading?t._e():[!t.isShareTpl&&t.records.length?o("div",{staticClass:"history-content has-show-three-record"},[t.recordDetailStatusLists.length?o("div",{staticClass:"record-status-wrap"},t._l(t.recordDetailStatusLists,(function(e,s){return o("div",{key:s,staticClass:"status-item",class:"font-size-13-"+t.currentFontSize},[o("span",[t._v(t._s(e.process_status_txt))]),o("span",[t._v(t._s(e.count))])])})),0):t._e(),t._l(t.parsedRecords,(function(e,s){return[6!==e.tpl_type?o("div",{key:s,class:"item showThreeItem "+(6!==e.tpl_type?"":"noMargin")+" "+(s===t.records.length-1?"lastItem":"")+" "+(0===s?"firstItem":"")+" "+(1===t.records.length?"onlyOneItem":"")},[t._m(0,!0),o("div",{staticClass:"right-wrap"},[o("div",{staticClass:"recorder-box",class:"font-size-14-"+t.currentFontSize},[[o("span",{staticClass:"mr2"},[t._v(t._s(e.add_time[0]))]),o("span",{staticClass:"mr2"},[t._v(t._s(e.add_time[1]))])],e.wxWorkMsg&&e.wxWorkMsg.corp_id&&e.wxWorkMsg.user_id&&t.$$appStore.h5QueryString.frompc?[o("ww-open-data",{staticStyle:{display:"inline-block",color:"#333"},attrs:{corpid:e.wxWorkMsg.corp_id,openid:e.wxWorkMsg.user_id,type:"userName"}})]:o("span",{staticClass:"recorder-name"},[t._v(" "+t._s(e.recorder)+" ")]),9===e.tpl_type?o("span",[t._v(" 签阅了"+t._s(e.tpl_name)+" ")]):7===e.tpl_type?o("span",[7===e.stateOperateType?[t._v(" 长按更新了状态 ")]:e.operation_name?[t._v(" 完成了"+t._s(e.operation_name)+" ")]:[t._v(" 手动更新了状态 ")]],2):e.operation_name?o("span",[t._v(" 完成了"+t._s(e.operation_name)+" ")]):13===e.tpl_type?o("tempate",[t._v(" "+t._s(e.operateTypeDesc)+" ")]):[o("span",[t._v("填写了"),e.log_result?[t._v(t._s(e.tpl_name))]:t._e()],2)]],2),6!==e.tpl_type&&7!==e.tpl_type?o("div",{staticClass:"record-box"},[e.log_result&&t.showResult?o("div",{class:"info-item info-item-result font-size-15-"+t.currentFontSize},[o("span",{staticClass:"label",class:"font-size-15-"+t.currentFontSize},[t._v(t._s(e.log_result_title)+"：")]),o("span",{staticClass:"cont"},[e.isNameRecordResult&&e.wxWorkMsg&&e.wxWorkMsg.corp_id&&e.wxWorkMsg.user_id&&t.$$appStore.h5QueryString.frompc?[o("ww-open-data",{staticStyle:{display:"inline-block",color:"#333"},attrs:{corpid:e.wxWorkMsg.corp_id,openid:e.wxWorkMsg.user_id,type:"userName"}})]:o("span",{staticClass:"word wordResult"},[t._v(" "+t._s(e.log_result||"")+" ")])],2)]):13===e.tpl_type?o("div",{class:(e.recordStatus.option_value?"info-item info-item-result info-item-flex":"info-item info-item-result")+" font-size-15-"+t.currentFontSize},[o("SubCodeEditLog",{class:"extFontSize font-size-15-"+t.currentFontSize,attrs:{data:e,collapse:""}})],1):9!==e.tpl_type&&7!==e.tpl_type&&e.operation_name?void 0:o("div",{staticClass:"info-item info-item-new-result"},[o("span",{staticClass:"label",class:"font-size-15-"+t.currentFontSize},[t._v(t._s(e.tpl_name))])]),e.recordStatus.option_value?o("div",{staticClass:"record-status-wrap-box",class:"font-size-11-"+t.currentFontSize,style:{backgroundColor:""+e.recordStatus.bgColor,color:""+e.recordStatus.textColor}},[o("div",{staticClass:"statusItemText"},[t._v(" "+t._s(e.recordStatus.option_text)+" ")]),o("div",{staticClass:"triangle",style:"background-color: "+e.recordStatus.bgColor+";"})]):t._e()],2):t._e(),7===e.tpl_type?o("div",{staticClass:"record-box new-record-box"},[o("div",{staticClass:"change-status-item-wrap"},[o("div",{staticClass:"status-label",class:"font-size-15-"+t.currentFontSize},[t._v(" "+t._s(e.tplType7State.state_name)+"： ")]),o("div",{staticClass:"status-content"},[o("div",{staticClass:"status-word",class:"font-size-15-"+t.currentFontSize},[o("span",{staticClass:"word-item"},[t._v(" "+t._s(e.tplType7State.state_text)+" ")])])])])]):t._e(),t.showImages&&!e.recorder_no_auth?o("record-images",{attrs:{record:e,noMarginOne:t.afterContent}}):t._e(),t.showSignature&&!e.recorder_no_auth?o("record-signatures",{attrs:{record:e}}):t._e(),o("div",{staticClass:"time-box",class:"font-size-13-"+t.currentFontSize},[e.review_count?o("span",{staticClass:"mr8"},[o("span",{staticClass:"mr2"},[t._v(t._s(e.review_count))]),t._v("条后续动态 ")]):t._e()]),2===e.is_del?o("div",{staticClass:"audit-status"},[o("span",{staticClass:"tag-in-audited"},[t._v("待审核")])]):t._e()],1)]):t._e()]})),t._l(t.parsedRecords,(function(e,s){return o("div",{key:s,class:"item showThreeItem "+(6===e.tpl_type?"":"noMargin")+" "+(s===t.records.length-1?"lastItem":"")+" "+(1===t.records.length?"onlyOneItem":"")},[6===e.tpl_type?[t._m(1,!0),o("div",{staticClass:"right-wrap"},[o("div",{staticClass:"recorder-box",class:"font-size-14-"+t.currentFontSize},[e.wxWorkMsg&&e.wxWorkMsg.corp_id&&e.wxWorkMsg.user_id&&t.$$appStore.h5QueryString.frompc?[o("ww-open-data",{staticStyle:{display:"inline-block",color:"#333"},attrs:{corpid:e.wxWorkMsg.corp_id,openid:e.wxWorkMsg.user_id,type:"userName"}})]:o("span",{staticClass:"name"},[t._v(" "+t._s(e.recorder)+" ")])],2),o("div",{staticClass:"record-box"},[t._l(e.fieldValueDataArr,(function(s,i){return[e.fieldValueDataArr&&e.fieldValueDataArr.length?[e.textAreaValue?o("span",{key:i,class:"text-word "+(3===s.type?"reminder-text":"")+" "+(e.imgDatas&&e.imgDatas.length>0?"":"noImgs")+"  font-size-16-"+t.currentFontSize},[t._v(" "+t._s(s.value)+" ")]):t._e()]:t._e()]})),e.imgDatas&&e.imgDatas.length>0?o("div",{staticClass:"text-img"},[t._l(e.imgDatas,(function(e,s){return[e.url?o("img",{key:s,class:s>=3?"hasMargin":"",attrs:{src:e.url,alt:"图片"}}):t._e()]}))],2):t._e(),e.audioData&&e.audioData.length>0?o("div",{staticClass:"text-audio",class:"font-size-16-"+t.currentFontSize,style:{paddingRight:3*(e.audioData[0].roundTime-1)+"px"},attrs:{"data-index":s}},[o("span",{staticClass:"clifont anticon-yuyin2"}),o("span",{staticClass:"text"},[t._v(t._s(e.audioData[0].roundTime)+"''")])]):t._e()],2),o("div",{staticClass:"time-box",class:"font-size-13-"+t.currentFontSize},[e.recordStatus.option_value?o("div",{staticClass:"statusItem",class:"font-size-13-"+t.currentFontSize,style:{backgroundColor:""+e.recordStatus.bgColor,color:""+e.recordStatus.textColor}},[t._v(" "+t._s(e.recordStatus.option_text)+" ")]):t._e(),e.review_count?o("span",{staticClass:"mr8"},[o("span",{staticClass:"mr2"},[t._v(t._s(e.review_count))]),t._v("条后续动态 ")]):t._e(),o("span",{staticClass:"mr2"},[t._v(t._s(e.add_time[0]))]),o("span",[t._v(t._s(e.add_time[1]))])])])]:t._e()],2)})),t._t("default"),t.managerAuth.showTip?o("div",{staticClass:"managerRuleInfo hasRecordsManagerAuthTip",on:{click:function(e){return e.stopPropagation(),t.showRuleIntro.apply(null,arguments)}}},[t._v(" "+t._s(t.managerAuth.tipText)),o("i",{staticClass:"clifont anticon-about"})]):t._e()],2):o("div",{staticClass:"no-record-info new-block-info update-block-info",class:"font-size-13-"+t.currentFontSize},[t.isH5&&!t.$$appStore.h5QueryString.frompc?[t._v(" 点击跳转至微信小程序，查看数据记录 ")]:t.managerAuth.showTip?o("div",{staticClass:"managerRuleInfo",on:{click:function(e){return e.stopPropagation(),t.showRuleIntro.apply(null,arguments)}}},[o("div",{staticStyle:{"margin-bottom":"4px"}},[t._v("暂无填写数据")]),t._v(" "+t._s(t.managerAuth.tipText)),o("i",{staticClass:"clifont anticon-about"})]):[t._v("暂无数据，填写后可在此查看")]],2)]],2)},u=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"left-wrap"},[o("div",{staticClass:"tip-circle"}),o("div",{staticClass:"tip-line"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"left-wrap"},[o("i",{staticClass:"recordItem clifont anticon-kuaijiebiaodan"})])}],_=o("2141"),g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"images-container",class:{hasMt:!!t.imgList.length}},[t._l(t.showImgs,(function(e,s){return[t.adjustOnlyOne&&t.onlyOne?o("img",{key:s+e.url,staticClass:"image-holder",style:{width:t.oneW?t.$$u(t.oneW):"unset",height:t.oneH?t.$$u(t.oneH):"unset"},attrs:{src:e.url}}):o("img",{key:s+e.url,staticClass:"record-img image-holder",style:{width:t.$$u(t.imgWidth),height:t.$$u(t.imgWidth)},attrs:{src:e.url}})]})),t.overLimit?o("div",{staticClass:"img-ellipsis",style:{width:t.$$u(t.imgWidth),height:t.$$u(t.imgWidth)}},[o("span",{style:{zoom:t.scale}},[t._v("共"+t._s(t.imgList.length)+"张")])]):t._e()],2)},h=[],m=o("7963"),v=o("77ed"),f=o("facd");const y=200,b=4,C=200;let O=class extends r["d"]{constructor(){super(...arguments),this.imgList=[],this.showImgs=[],this.showCount=b,this.overLimit=!1,this.ellipseCount=4,this.imgWidth=y,this.scale=1,this.onlyOne=!1,this.oneMode="aspectFill",this.adaptWidth=!1,this.adaptHeight=!1,this.oneH=0,this.oneW=0}calcImgsWidth(){try{const t=375,e=this.noMarginOne?0:20,o=32,s=30,i=0,{showCount:a,imgWidth:r}=this,n=8*(a-1),c=e+o+s+i+n,l=t-c,d=a,p=l/d;if(p<r){const t=Math.floor(p)-1;this.imgWidth=t}}catch(t){console.error("calcImgsWidth error, e: ",t)}}calcImgScaleSize(t={}){const{height:e,width:o}=t||{};let s=e||0,i=Object(f["a"])(o)||0,a="scaleToFill";const r=s/i;return s>i?(a="heightFix",s=200,i=C/r,i=Math.ceil(10*i)/10):(a="widthFix",i=200,s=r*C,s=Math.ceil(10*s)/10),{oneH:s,oneW:i,oneMode:a}}getOssUrl(t){if(!Object(n["J"])(t))return t;const e=this.$$appStore.isLowQuality,o=this.$$appStore.encodedUserId;return t.map((t,s)=>{const i={data:{value:t.url,height:parseInt(t.height,10),width:parseInt(t.width,10),image_size:t.size},windowWidth:this.$$getSystemInfo().computedWindowWidth},a=v["a"].getComputedUrl(i,2,e,o).url;return t.url=a,t})}initData(){var t;const e=this.record;if(!e)return;const o=Object(m["e"])(e),{showCount:s,adjustOnlyOne:i}=this,a=o.length>s,r=a?-1:0;let n=o.slice(0,s+r);n=this.getOssUrl(n);const c=(null===o||void 0===o?void 0:o.length)!==(null===(t=this.imgList)||void 0===t?void 0:t.length);let l=!1,d=!1,p=!1,u="scaleToFill",_=0,g=0;if(i&&1===o.length){var h,v;const t=Object(f["a"])((null===o||void 0===o||null===(h=o[0])||void 0===h?void 0:h.height)||0),e=Object(f["a"])((null===o||void 0===o||null===(v=o[0])||void 0===v?void 0:v.width)||0);d=e>t,p=e<t,l=t&&e&&(d||p),({oneH:_,oneW:g,oneMode:u}=this.calcImgScaleSize((null===o||void 0===o?void 0:o[0])||{}))}this.imgList=o,this.showImgs=n,this.overLimit=a,this.ellipseCount=o.length-s,this.onlyOne=l,this.adaptWidth=d,this.adaptHeight=p,this.oneMode=u,this.oneH=_,this.oneW=g,c&&this.calcImgsWidth()}};Object(a["a"])([Object(r["c"])({type:Object,default:null})],O.prototype,"record",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!0})],O.prototype,"adjustOnlyOne",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],O.prototype,"noMarginOne",void 0),O=Object(a["a"])([Object(r["a"])({watch:{record:{handler(){this.initData()},immediate:!0}},mounted(){}})],O);var S=O,j=S,w=(o("472d"),o("2877")),T=Object(w["a"])(j,g,h,!1,null,"6e385230",null),x=T.exports,z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"images-container",style:{marginTop:t.$$u(t.imgList.length?6:0)}},[t._l(t.imgList,(function(e,s){return o("div",{key:e.url+s,style:{marginTop:t.$$u(6)}},[o("img",{staticClass:"record-img image-holder",style:{width:t.oneW?t.$$u(t.oneW):"unset",height:t.oneH?t.$$u(t.oneH):"unset"},attrs:{src:e.url+(e.urlParams||"")}})])})),t.overLimit?o("div",{staticClass:"img-ellipsis",style:{width:t.$$u(t.imgWidth),height:t.$$u(t.imgWidth)}},[o("span",{style:{zoom:t.scale}},[t._v("共"+t._s(t.imgList.length)+"张")])]):t._e()],2)},$=[];const I=200,L=200;let M=class extends r["d"]{constructor(){super(...arguments),this.imgList=[],this.showImgs=[],this.overLimit=!1,this.ellipseCount=4,this.imgWidth=I,this.scale=1,this.onlyOne=!1,this.oneMode="aspectFill",this.oneH=0,this.oneW=0}calcImgScaleSize(t={}){const{height:e,width:o}=t||{};let s=Object(f["a"])(e)||0,i=Object(f["a"])(o)||0,a="widthFix";const r=s/i;return s>i?(a="heightFix",s=200,i=L/r,i=Math.ceil(10*i)/10):(a="widthFix",i=200,s=r*L,s=Math.ceil(10*s)/10),{oneH:s,oneW:i,oneMode:a}}initData(){const t=this.record;if(!t)return;const e=Object(n["e"])(Object(m["f"])(t));this.useCompressed&&Object(n["m"])(e,t=>{t.urlParams=`?x-oss-process=image/resize,w_${I}/quality,q_100`});let o="scaleToFill",s=0,i=0;null!==e&&void 0!==e&&e[0]&&({oneH:s,oneW:i,oneMode:o}=this.calcImgScaleSize(null===e||void 0===e?void 0:e[0])),this.imgList=e,this.oneMode=o,this.oneH=s,this.oneW=i}};Object(a["a"])([Object(r["c"])({type:Object,default:null})],M.prototype,"record",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],M.prototype,"useCompressed",void 0),M=Object(a["a"])([Object(r["a"])({watch:{record:{handler(){this.initData()},immediate:!0}}})],M);var R=M,D=R,k=(o("32d6"),Object(w["a"])(D,z,$,!1,null,"75a02276",null)),F=k.exports;let B=class extends r["d"]{constructor(){super(...arguments),this.html="",this.isShareTpl=!1}mounted(){const{isShareTpl:t}=Object(l["r"])();this.isShareTpl="1"===t}showRuleIntro(){this.$emit("showRuleIntro")}};Object(a["a"])([Object(r["c"])({type:Array,default:()=>[]})],B.prototype,"records",void 0),Object(a["a"])([Object(r["c"])({type:Array,default:()=>[]})],B.prototype,"recordDetailStatusLists",void 0),Object(a["a"])([Object(r["c"])({type:Object,default:()=>({})})],B.prototype,"codeData",void 0),Object(a["a"])([Object(r["c"])({type:Object,default:()=>({})})],B.prototype,"logMsg",void 0),Object(a["a"])([Object(r["c"])({type:Number,default:0})],B.prototype,"openRecordActive",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!0})],B.prototype,"getRecordLoading",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],B.prototype,"afterContent",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],B.prototype,"show1",void 0),Object(a["a"])([Object(r["c"])({type:Object,default:null})],B.prototype,"styleCfg",void 0),Object(a["a"])([Object(r["c"])({type:String,default:"1"})],B.prototype,"currentFontSize",void 0),Object(a["a"])([Object(r["c"])({type:Object,default:{}})],B.prototype,"managerAuth",void 0),B=Object(a["a"])([Object(r["a"])({components:{SubCodeEditLog:_["a"],RecordImages:x,RecordSignatures:F},computed:{parsedRecords(){const t=Object(n["Z"])(this.records);return Object(l["e"])("parsedRecords",t),t},showResult(){const t=this.styleCfg;if(t){const e=t.showContent||[];return Object(n["I"])(e,m["a"].Result)}return!1},showImages(){const t=this.styleCfg;if(t){const e=t.showContent||[];return Object(n["I"])(e,m["a"].Images)}return!1},showSignature(){const t=this.styleCfg;if(t){const e=t.showContent||[];return Object(n["I"])(e,m["a"].Signature)}return!1}}})],B);var A=B,E=A,W=(o("0967"),o("ec21"),Object(w["a"])(E,p,u,!1,null,"18c48cd2",null)),H=W.exports,P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"blockListsContainer",class:{afterContent:t.afterContent}},[t.show1?o("div",{class:"view-password new-block-info "+(t.logMsg.record_summary_title?"":"no-title")+" "+(1===t.codeData.log_msg.open_record_active||1===t.openRecordActive?"view-password-new":"")+" font-size-15-"+t.currentFontSize+"\n     update-block-info"},[1===t.codeData.log_msg.open_record_active||1===t.openRecordActive?o("block",[t._v(" 记录数据已被加密，需要输入密码查看 ")]):o("block",[t._v(" 记录数据已被加密，需要输入密码查看"),o("br")])],1):t.getRecordLoading?t._e():[!t.isShareTpl&&t.records.length?o("div",{staticClass:"history-content has-show-three-record"},[t.recordDetailStatusLists.length?o("div",{staticClass:"record-status-wrap"},t._l(t.recordDetailStatusLists,(function(e,s){return o("div",{key:s,staticClass:"status-item",class:"font-size-13-"+t.currentFontSize},[o("span",[t._v(t._s(e.process_status_txt))]),o("span",[t._v(t._s(e.count))])])})),0):t._e(),t._l(t.parsedRecords,(function(e,s){return[6!==e.tpl_type?o("div",{key:s,class:"item showThreeItem "+(6!==e.tpl_type?"":"noMargin")+" "+(s===t.records.length-1?"lastItem":"")+" "+(1===t.records.length?"onlyOneItem":"")},[o("div",{staticClass:"left-wrap"},[7===e.tpl_type&&e.tplType7State.is_change_state?o("i",{staticClass:"recordItem clifont anticon-Frame"}):7!==e.tpl_type||e.tplType7State.is_change_state?6===e.tpl_type?o("i",{staticClass:"recordItem clifont anticon-kuaijiebiaodan"}):9===e.tpl_type?o("i",{staticClass:"recordItem clifont anticon-fasongyuanwenjian"}):o("i",{staticClass:"recordItem clifont anticon-icon_biaodantianxie_xiaochengxu"}):o("i",{staticClass:"recordItem clifont anticon-shuaxinzhuangtai"})]),o("div",{staticClass:"right-wrap"},[o("div",{staticClass:"recorder-box",class:"font-size-13-"+t.currentFontSize},[e.wxWorkMsg&&e.wxWorkMsg.corp_id&&e.wxWorkMsg.user_id&&t.$$appStore.h5QueryString.frompc?[o("ww-open-data",{staticStyle:{display:"inline-block",color:"#333"},attrs:{corpid:e.wxWorkMsg.corp_id,openid:e.wxWorkMsg.user_id,type:"userName"}})]:o("span",{staticClass:"recorder-name"},[t._v(" "+t._s(e.recorder)+" ")]),9===e.tpl_type?o("span",[t._v(" 签阅了"+t._s(e.tpl_name)+" ")]):7===e.tpl_type?o("span",[7===e.stateOperateType?[t._v(" 长按更新了状态 ")]:e.operation_name?[t._v(" 完成了"+t._s(e.operation_name)+" ")]:[t._v(" 手动更新了状态 ")]],2):e.operation_name?o("span",[t._v(" 完成了"+t._s(e.operation_name)+" ")]):13===e.tpl_type?o("tempate",[t._v(" "+t._s(e.operateTypeDesc)+" ")]):[o("span",[t._v("填写了"),e.log_result?[t._v(t._s(e.tpl_name))]:t._e()],2)]],2),6!==e.tpl_type&&7!==e.tpl_type?o("div",{staticClass:"record-box",class:"font-size-14-"+t.currentFontSize},[e.log_result&&t.showResult?o("div",{staticClass:"info-item info-item-result",class:"font-size-15-"+t.currentFontSize},[o("span",{staticClass:"label",class:"font-size-14-"+t.currentFontSize},[t._v(" "+t._s(e.log_result_title)+"： ")]),o("span",{staticClass:"cont"},[e.isNameRecordResult&&e.wxWorkMsg&&e.wxWorkMsg.corp_id&&e.wxWorkMsg.user_id&&t.$$appStore.h5QueryString.frompc?[o("ww-open-data",{staticStyle:{display:"inline-block",color:"#333"},attrs:{corpid:e.wxWorkMsg.corp_id,openid:e.wxWorkMsg.user_id,type:"userName"}})]:o("span",{staticClass:"word wordResult"},[t._v(" "+t._s(e.log_result||"")+" ")])],2)]):13===e.tpl_type?o("div",{staticClass:"info-item info-item-result",class:"font-size-15-"+t.currentFontSize},[o("SubCodeEditLog",{class:"extFontSize font-size-15-"+t.currentFontSize,attrs:{data:e,collapse:""}})],1):9!==e.tpl_type&&7!==e.tpl_type&&e.operation_name?void 0:o("div",{staticClass:"info-item info-item-result",class:"font-size-15-"+t.currentFontSize},[o("span",{staticClass:"label",class:"font-size-14-"+t.currentFontSize},[t._v(t._s(e.tpl_name))])])],2):t._e(),7===e.tpl_type?o("div",{staticClass:"record-box new-record-box"},[o("div",{staticClass:"change-status-item-wrap"},[o("div",{staticClass:"status-label",class:"font-size-15-"+t.currentFontSize},[t._v(" "+t._s(e.tplType7State.state_name)+"： ")]),o("div",{staticClass:"status-content"},[o("div",{staticClass:"status-word",class:"font-size-15-"+t.currentFontSize},[o("span",{staticClass:"word-item"},[t._v(" "+t._s(e.tplType7State.state_text)+" ")])])])])]):t._e(),t.showImages&&!e.recorder_no_auth?o("record-images",{attrs:{record:e,noMarginOne:t.afterContent}}):t._e(),t.showSignature&&!e.recorder_no_auth?o("record-signatures",{attrs:{record:e}}):t._e(),o("div",{staticClass:"time-box"},[e.recordStatus.option_value?o("div",{staticClass:"statusItem",style:{backgroundColor:""+e.recordStatus.bgColor,color:""+e.recordStatus.textColor}},[t._v(" "+t._s(e.recordStatus.option_text)+" ")]):t._e(),o("span",{staticClass:"mr2",class:"font-size-13-"+t.currentFontSize},[t._v(t._s(e.add_time[0]))]),o("span",{staticClass:"mr8",class:"font-size-13-"+t.currentFontSize},[t._v(t._s(e.add_time[1]))]),e.review_count?o("span",{staticClass:"mr4",class:"font-size-13-"+t.currentFontSize},[o("span",{staticClass:"mr2"},[t._v(t._s(e.review_count))]),t._v("条后续动态 ")]):t._e(),2===e.is_del?o("span",{staticClass:"tag-in-audited",class:"font-size-13-"+t.currentFontSize},[t._v("待审核")]):t._e()])],1)]):t._e()]})),t._l(t.parsedRecords,(function(e,s){return o("div",{key:s,class:"item showThreeItem "+(6===e.tpl_type?"":"noMargin")+" "+(s===t.records.length-1?"lastItem":"")+" "+(1===t.records.length?"onlyOneItem":"")},[6===e.tpl_type?[t._m(0,!0),o("div",{staticClass:"right-wrap"},[o("div",{staticClass:"recorder-box",class:"font-size-13-"+t.currentFontSize},[e.wxWorkMsg&&e.wxWorkMsg.corp_id&&e.wxWorkMsg.user_id&&t.$$appStore.h5QueryString.frompc?[o("ww-open-data",{staticStyle:{display:"inline-block",color:"#333"},attrs:{corpid:e.wxWorkMsg.corp_id,openid:e.wxWorkMsg.user_id,type:"userName"}})]:o("span",{staticClass:"name"},[t._v(" "+t._s(e.recorder)+" ")])],2),o("div",{staticClass:"record-box",class:"font-size-13-"+t.currentFontSize},[t._l(e.fieldValueDataArr,(function(s,i){return[e.fieldValueDataArr&&e.fieldValueDataArr.length?[e.textAreaValue?o("span",{key:i,class:"text-word "+(3===s.type?"reminder-text":"")+" "+(e.imgDatas&&e.imgDatas.length>0?"":"noImgs")+" font-size-16-"+t.currentFontSize+"\n                    "},[t._v(" "+t._s(s.value)+" ")]):t._e()]:t._e()]})),e.imgDatas&&e.imgDatas.length>0?o("div",{staticClass:"text-img"},[t._l(e.imgDatas,(function(e,s){return[e.url?o("img",{key:s,class:s>=3?"hasMargin":"",attrs:{src:e.url,alt:"图片"}}):t._e()]}))],2):t._e(),e.audioData&&e.audioData.length>0?o("div",{staticClass:"text-audio",class:"font-size-16-"+t.currentFontSize,style:{paddingRight:3*(e.audioData[0].roundTime-1)+"px"},attrs:{"data-index":s}},[o("span",{staticClass:"clifont anticon-yuyin2"}),o("span",{staticClass:"text"},[t._v(t._s(e.audioData[0].roundTime)+"''")])]):t._e()],2),o("div",{staticClass:"time-box",class:"font-size-16-"+t.currentFontSize},[e.recordStatus.option_value?o("div",{staticClass:"statusItem",class:"font-size-16-"+t.currentFontSize,style:{backgroundColor:""+e.recordStatus.bgColor,color:""+e.recordStatus.textColor}},[t._v(" "+t._s(e.recordStatus.option_text)+" ")]):t._e(),e.review_count?o("span",{staticClass:"mr8",class:"font-size-13-"+t.currentFontSize},[o("span",{staticClass:"mr2"},[t._v(t._s(e.review_count))]),t._v("条后续动态 ")]):t._e(),o("span",{staticClass:"mr4",class:"font-size-13-"+t.currentFontSize},[t._v(t._s(e.add_time[0]))]),o("span",{class:"font-size-13-"+t.currentFontSize},[t._v(t._s(e.add_time[1]))]),2===e.is_del?o("span",{staticClass:"tag-in-audited",class:"font-size-13-"+t.currentFontSize},[t._v("待审核")]):t._e()])])]:t._e()],2)})),t._t("default"),t.managerAuth.showTip?o("div",{staticClass:"managerRuleInfo hasRecordsManagerAuthTip",on:{click:function(e){return e.stopPropagation(),t.showRuleIntro.apply(null,arguments)}}},[t._v(" "+t._s(t.managerAuth.tipText)),o("i",{staticClass:"clifont anticon-about"})]):t._e()],2):o("div",{staticClass:"no-record-info new-block-info update-block-info",class:"font-size-13-"+t.currentFontSize},[t.isH5&&!t.$$appStore.h5QueryString.frompc?[t._v(" 点击跳转至微信小程序，查看数据记录 ")]:t.managerAuth.showTip?o("div",{staticClass:"managerRuleInfo",on:{click:function(e){return e.stopPropagation(),t.showRuleIntro.apply(null,arguments)}}},[o("div",{staticStyle:{"margin-bottom":"4px"}},[t._v("暂无填写数据")]),t._v(" "+t._s(t.managerAuth.tipText)),o("i",{staticClass:"clifont anticon-about"})]):[t._v("暂无数据，填写后可在此查看")]],2)]],2)},U=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"left-wrap"},[o("i",{staticClass:"recordItem clifont anticon-kuaijiebiaodan"})])}];let V=class extends r["d"]{constructor(){super(...arguments),this.html="",this.isShareTpl=!1}mounted(){const{isShareTpl:t}=Object(l["r"])();this.isShareTpl="1"===t}showRuleIntro(){this.$emit("showRuleIntro")}};Object(a["a"])([Object(r["c"])({type:Array,default:()=>[]})],V.prototype,"records",void 0),Object(a["a"])([Object(r["c"])({type:Array,default:()=>[]})],V.prototype,"recordDetailStatusLists",void 0),Object(a["a"])([Object(r["c"])({type:Object,default:()=>({})})],V.prototype,"codeData",void 0),Object(a["a"])([Object(r["c"])({type:Object,default:()=>({})})],V.prototype,"logMsg",void 0),Object(a["a"])([Object(r["c"])({type:Number,default:0})],V.prototype,"openRecordActive",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!0})],V.prototype,"getRecordLoading",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],V.prototype,"afterContent",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],V.prototype,"show1",void 0),Object(a["a"])([Object(r["c"])({type:Object,default:null})],V.prototype,"styleCfg",void 0),Object(a["a"])([Object(r["c"])({type:String,default:"1"})],V.prototype,"currentFontSize",void 0),Object(a["a"])([Object(r["c"])({type:Object,default:{}})],V.prototype,"managerAuth",void 0),V=Object(a["a"])([Object(r["a"])({components:{SubCodeEditLog:_["a"],RecordImages:x,RecordSignatures:F},computed:{parsedRecords(){return Object(n["Z"])(this.records)},showResult(){const t=this.styleCfg;if(t){const e=t.showContent||[];return Object(n["I"])(e,m["a"].Result)}return!1},showImages(){const t=this.styleCfg;if(t){const e=t.showContent||[];return Object(n["I"])(e,m["a"].Images)}return!1},showSignature(){const t=this.styleCfg;if(t){const e=t.showContent||[];return Object(n["I"])(e,m["a"].Signature)}return!1}}})],V);var N=V,Q=N,q=(o("7560"),o("f2ae"),Object(w["a"])(Q,P,U,!1,null,"b43e324e",null)),J=q.exports,X=o("6542"),Y=(o("3c61"),o("8f21")),G=o("a7a1"),Z=o("d197"),K=o("d1b2"),tt=o("005c"),et=o("8e05"),ot=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"statusPanel",class:{afterContent:t.afterContent}},[t.statusList.length?o("div",{staticClass:"statusBoard",class:{onlyOne:1===t.statusList.length}},t._l(t.statusList,(function(e,s){return o("div",{key:s,staticClass:"statusItem"},[o("div",{staticClass:"textCount",class:"font-size-22-"+t.currentFontSize},[t._v(" "+t._s(t.show1?"***":e.count)+" ")]),o("div",{staticClass:"textlabel",class:"font-size-15-"+t.currentFontSize,style:{color:e.textColor}},[t._v(" "+t._s(e.text)+" ")])])})),0):t._e(),t.show1||t.statusList.length?t._e():o("div",{staticClass:"emptyTips",class:"font-size-13-"+t.currentFontSize},[t._v(" 未设置统计项 ")]),t.show1?o("span",{staticClass:"btn-NeedPassword",class:[{emptyList:!t.statusList.length},t.afterContent?"font-size-15-"+t.currentFontSize:"font-size-13-"+t.currentFontSize]},[t.statusList.length?[t._v("输入密码查看")]:[o("span",{staticClass:"grayText"},[t._v("查看动态档案需要")]),t._m(0)]],2):t._e(),t._t("default")],2)},st=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"btnLink"},[t._v(" 输入密码"),o("i",{staticClass:"clifont anticon-cli-angle-right"})])}];let it=class extends r["d"]{constructor(){super(...arguments),this.recordStatus=[],this.statusList=[]}updateStatsCount(t){const e=this.statusList;Object(n["m"])(e,e=>{const o=(null===e||void 0===e?void 0:e.text)||"";if(o){const s=Object(n["k"])(t,t=>(null===t||void 0===t?void 0:t.process_status_txt)===o);if(!s)return;const i=(null===s||void 0===s?void 0:s.count)||0;e.count=i}}),this.statusList=e}};Object(a["a"])([Object(r["c"])({type:Object,default:null})],it.prototype,"styleCfg",void 0),Object(a["a"])([Object(r["c"])({type:Array,default:()=>[]})],it.prototype,"recordStatus",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],it.prototype,"show1",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],it.prototype,"afterContent",void 0),Object(a["a"])([Object(r["c"])({type:String,default:"1"})],it.prototype,"currentFontSize",void 0),it=Object(a["a"])([Object(r["a"])({watch:{styleCfg:{handler(){const t=this.styleCfg;if(!t)return void(this.statusList=[]);const e=Object(n["e"])(t.statsList||[]),o=[],s=[];Object(n["m"])(e,t=>{var e;const i=(null===t||void 0===t||null===(e=t.desc)||void 0===e?void 0:e.title)||(null===t||void 0===t?void 0:t.text)||"";i&&!Object(n["I"])(o,i)&&(o.push(i),s.push(t))}),this.statusList=Object(n["V"])(s,t=>{var e,o;return{...t,text:(null===t||void 0===t||null===(e=t.desc)||void 0===e?void 0:e.title)||"",count:(null===t||void 0===t?void 0:t.count)||0,textColor:(null===t||void 0===t||null===(o=t.desc)||void 0===o?void 0:o.option_color)||""}});const i=this.recordStatus;i.length&&this.updateStatsCount(i)},immediate:!0},recordStatus:{handler(t){this.updateStatsCount(t)},immediate:!0}}})],it);var at=it,rt=at,nt=(o("e5a8"),Object(w["a"])(rt,ot,st,!1,null,"00e0a4cb",null)),ct=nt.exports,lt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"operateStats",class:{afterContent:t.afterContent}},[t.list.length?o("div",{staticClass:"operateBoard",class:{onlyOne:1===t.list.length}},t._l(t.list,(function(e,s){return o("div",{key:s,staticClass:"operateItem",on:{click:function(o){return t.removedInfo(o,e)}}},[e.is_relation?o("div",{staticClass:"textCount",class:"font-size-22-"+t.currentFontSize},[t._v(" "+t._s(t.show1?"***":e.count)+" ")]):o("div",{staticClass:"textCount relative",class:"font-size-22-"+t.currentFontSize},[t._v(" -"),o("i",{staticClass:"clifont anticon-warning-circle iconInfo"})]),o("div",{staticClass:"textlabel",class:"font-size-15-"+t.currentFontSize},[t._v(" "+t._s(e.title)+" ")])])})),0):t._e(),t.show1||t.list.length?t._e():o("div",{staticClass:"emptyTips",class:"font-size-13-"+t.currentFontSize},[t._v(" 未设置统计指标 ")]),t.show1?o("span",{staticClass:"btn-NeedPassword",class:[{emptyList:!t.list.length},t.afterContent?"font-size-15-"+t.currentFontSize:"font-size-13-"+t.currentFontSize]},[t.list.length?[t._v("输入密码查看")]:[o("span",{staticClass:"grayText"},[t._v("查看动态档案需要")]),t._m(0)]],2):t._e(),t._t("default"),o("Modal",{ref:"modal",attrs:{content:"提示",showCancel:!1,tip:"该指标统计的表单已被移除，统计指标已失效，需要制码者前往电脑端重新设置","confirm-name":"我知道了","confirm-content":"","cancel-content":""}})],2)},dt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"btnLink"},[t._v(" 输入密码"),o("i",{staticClass:"clifont anticon-cli-angle-right"})])}],pt=o("ecb3");let ut=class extends r["d"]{constructor(){super(...arguments),this.recordStatsList=[],this.list=[]}removedInfo(t,e){var o;console.log("removedInfo arguments: ",...arguments);const s=null===(o=null===e||void 0===e?void 0:e.is_relation)||void 0===o||o;if(!s){t.stopImmediatePropagation(),t.stopPropagation();const e=()=>{};this.$refs.modal.showModal(e)}}};Object(a["a"])([Object(r["c"])({type:Object,default:null})],ut.prototype,"styleCfg",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],ut.prototype,"afterContent",void 0),Object(a["a"])([Object(r["c"])({type:Array,default:()=>[]})],ut.prototype,"recordStatsList",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],ut.prototype,"show1",void 0),Object(a["a"])([Object(r["c"])({type:String,default:"1"})],ut.prototype,"currentFontSize",void 0),ut=Object(a["a"])([Object(r["a"])({components:{Modal:pt["a"]},watch:{styleCfg:{handler(){const t=this.styleCfg;if(!t)return void(this.list=[]);const e=Object(n["e"])(t.statsList||[]);Object(n["m"])(e,t=>{var e;t.count=0,t.is_relation=null===(e=null===t||void 0===t?void 0:t.is_relation)||void 0===e||e}),this.list=Object(n["V"])(e,t=>({...t,count:(null===t||void 0===t?void 0:t.count)||0}))},immediate:!0},recordStatsList(t){const e=this.list;Object(n["m"])(e,e=>{var o;const s=e.id,i=Object(n["k"])(t,t=>(null===t||void 0===t?void 0:t.id)===s);i&&(e.count=i.count||0,e.is_relation=null===(o=null===i||void 0===i?void 0:i.is_relation)||void 0===o||o)}),this.list=e}},computed:{fromPc(){return!!this.$$appStore.h5QueryString.frompc}}})],ut);var _t=ut,gt=_t,ht=(o("d61c"),Object(w["a"])(gt,lt,dt,!1,null,"7e2bb5ac",null)),mt=ht.exports;let vt=class extends r["d"]{constructor(){super(...arguments),this.logMsg={last_desc:{},data_list:[]},this.DynamicStyleType=et["c"],this.operateData=[],this.expBtnBG="",this.expBtnColor="",this.overIphoneX=!1,this.isEnableToMina=!1,this.isEnableSystem=!1,this.isEnableWx=!1,this.hasWxVersion=!1,this.records=[],this.getRecordLoading=!0,this.recordsTotal=0,this.recordDetailStatusLists=[],this.recordStatsList=[],this.defaultHeaderUrl=G["l"]+"/images/mina-cli/header.png",this.openRecordActive=0,this.OPERATE_ITEM_DEFAULT_TITLE=Z["h"],this.OPERATE_ITEM_DEFAULT_BUTTON_TEXT=Z["g"],this.dynamicStyleCfg=null,this.isStatsStyle=!1,this.operatePos=m["b"].Head}codeDataChange(t){this.logMsg=t.log_msg,this.operateData=t.operateData}showRecordTip(){c["a"].logClick(104,146056,"",{cvid:(new Y["a"]).id,expandLog:1});let t="toMina";this.$$appStore.h5QueryString.frompc?t="":this.isEnableToMina&&c["a"].logClick(104,146057,"",{cvid:(new Y["a"]).id}),this.showTip(t,"normal")}goHistory(){if(this.$$appStore.h5QueryString.frompc&&"qrcode_19_noPowerError"!==this.logMsg.status_code){const{isShareTpl:t}=Object(l["r"])();this.$$go("/pages/record-history/main",{isPaidUser:this.isPaidUser,isShareTpl:t})}else this.showTip("recordCheck","recordCheck")}goRecordFormPage(t){if(this.isEmptyContent(t)){var e,o,s;const{tpl_qrcode_status:i,id:a,tpl_id:r}=(null===(e=this.codeData)||void 0===e?void 0:e.qrcode_record)||{},n=4===i?a:null===(o=this.codeData)||void 0===o||null===(s=o.form_data)||void 0===s?void 0:s.code_id,c=r||0,[l]=decodeURIComponent(this.$route.query.url||"").split("?");this.$$go("/pages/placeholder-detail-main",{url:l,operateItem:encodeURIComponent(JSON.stringify(t||{})),batchData:encodeURIComponent(JSON.stringify({id:n||0,tpl_id:c}))})}else if(t.$elType===K["b"].STATE&&this.$$appStore.h5QueryString.frompc){console.log(t);const e=t.$elData.state_id,[o]=decodeURIComponent(this.$route.query.url).split("?");this.$$go("/pages/status-detail-main",{url:o,stateId:e})}else if(t.$elType===K["b"].PLACEHOLDER&&this.$$appStore.h5QueryString.frompc){var i,a,r;const{tpl_qrcode_status:e,id:o,tpl_id:s}=(null===(i=this.codeData)||void 0===i?void 0:i.qrcode_record)||{},n=4===e?o:null===(a=this.codeData)||void 0===a||null===(r=a.form_data)||void 0===r?void 0:r.code_id,c=s||0,[l]=decodeURIComponent(this.$route.query.url||"").split("?");this.$$go("/pages/placeholder-detail-main",{url:l,operateItem:encodeURIComponent(JSON.stringify(t||{})),batchData:encodeURIComponent(JSON.stringify({id:n||0,tpl_id:c}))})}else if(!t.$customLimit)if(c["a"].logClick(104,146056,"",{cvid:(new Y["a"]).id,expandLog:0}),this.$$appStore.h5QueryString.frompc&&t.$elType===K["b"].TPL)this.$$go("/pages/record-form/main",{org_id:t.$elData.org_id,tpl_id:t.$elData.tpl_id,currentFontSize:this.currentFontSize,token:encodeURIComponent(JSON.stringify(t.$elData.record_tpl_token||{}))});else{const{$elType:e,$elData:o}=t;let s;if(e===K["b"].LINK){const t=encodeURIComponent("type=6&"),e=Object(l["h"])(Object.keys(Object(l["eb"])(o)),e=>0===e.indexOf(t));e&&(s=o.replace("navLink:","").replace("?"+e,"").replace("&"+e,""))}if(s)window.open(s);else{const e=Object(l["h"])(null===t||void 0===t?void 0:t.auth_set_info,t=>"operate"===(null===t||void 0===t?void 0:t.privi_type)),s=4===(null===e||void 0===e?void 0:e.auth_type),i=(null===t||void 0===t?void 0:t.$elType)===K["b"].LINK;if(s&&i&&Object(n["R"])(o)){var d;const t=null===o||void 0===o||null===(d=o.slice)||void 0===d?void 0:d.call(o,8,o.length),e=Object(n["u"])("type",decodeURIComponent(t)),s=t.slice(0,t.indexOf("?"));if(["0","4"].includes(e)&&s)return void this.redirectCode(s,e)}const a=t.operation_id||t.$elData.tpl_id;this.showTip("listToMina",a)}}}redirectCode(t,e){if(!t)return;console.log(t);const o=this.$$getValue(this.$$appStore,"h5QueryString.frompc",0),s=100,i=o?{frompc:1,msg:1,noimgprev:1,nomapjump:1,nocompjump:1,noScanCount:1,noscroll:1,_time:Date.now(),bodypb:8,bodypt:s,noRecordList:1}:{};"summary"===this.dataType&&"batch_qrcode"===e||1===+e?window.location.href="/recent-batch-code?qrcode_route="+t:window.location.href=`/?url=${t}&${Object(n["c"])(i)}`}async goFormListPage(){var t;if(c["a"].logClick(104,146056,"",{cvid:(new Y["a"]).id,expandLog:2}),this.$$appStore.h5QueryString.frompc)return 1===this.operateData.length&&this.operateData[0]?void this.goRecordFormPage(this.operateData[0]):void(null===(t=this.$refs.halfScreenOperate)||void 0===t||t.showModal());this.showTip("bottomToMina","bottomBtn")}mounted(){this.logMsg=this.codeData.log_msg||{},this.operateData=this.codeData.operateData||[],this.logMsg.expand_log=this.logMsg.expand_log||0,this.calcBtnColor(),this.overIphoneX=Object(l["N"])()||this.$$appStore.h5QueryString.frompc,this.$$appStore.h5QueryString.cutscreentpl&&this.goFormListPage(),this.isEnableToMina=Object(tt["q"])(),this.isEnableSystem=Object(tt["s"])()?Object(tt["h"])(Object(tt["m"])(),"10.3"):Object(tt["h"])(Object(tt["g"])(),"5.0"),this.isEnableWx=!!Object(tt["v"])()&&Object(tt["h"])(Object(tt["v"])(),"7.0.12"),this.hasWxVersion=!!Object(tt["v"])(),this.getRecords()}async getStatusList(){const t=Object(n["C"])(this.codeData,"qrcode_record.id",0),e=await c["c"].getRecordsGroupByProcessStatus({code_id:t});if(1===e.code){const t=Object(n["C"])(e,"data",[]);t&&t.length&&(this.recordDetailStatusLists=t)}}async getRecordStatsList(){const t=Object(n["C"])(this.codeData,"qrcode_record.id",0),e=Object(n["C"])(this.codeData,"qrcode_record.org_id",0),o=await c["c"].getRecordOperateStats({qrcode_id:t,org_id:e});if(1===(null===o||void 0===o?void 0:o.code)){const t=Object(n["C"])(o,"data",[]);t&&t.length&&(this.recordStatsList=t)}}async getRecords(){const{h5QueryString:t}=this.$$appStore,e=t.frompc,o=Object(n["C"])(this.codeData,"codeCommonInfo.hasOpenRecordView",!1),s=Object(n["C"])(this.codeData,"log_msg.visible_auth",0),i=Object(n["C"])(this.codeData,"log_msg"),a=Object(m["g"])(i),{showCount:r,styleType:d,posType:p}=a,u=d===et["c"].Stats||d===et["c"].ClosedStats;this.isStatsStyle=u,this.dynamicStyleCfg=a;const _=Object(m["d"])(i);if(this.operatePos=_,d===et["c"].Stats&&this.getRecordStatsList(),!o||!e&&4!==s)return void(this.getRecordLoading=!1);this.getRecordLoading=!0;const g=Object(n["C"])(this.codeData,"qrcode_record.org_id",0),h=await c["c"].getRecordHistorySimplifyDissociate({page:1,size:r,org_id:g,list_type:0,use_to_preview:t.batchactivetplcase||""});if(1===Object(n["C"])(h,"code")){const t=Object(n["C"])(h,"data.list",[]),e=[],o=t=>{let e=[];Object(l["j"])(t,t=>{t.fields&&(e=e.concat(t.fields))});const o=e.filter(t=>"customer_number"===t.type);return o},s=t=>{const e=Object(l["Y"])(t,["年","月","日"],!1),o=e,s=o.split(" "),i=(new Date).toLocaleDateString(),a=Date.parse(i)/1e3,r=Math.floor((a-t)/60/60/24);return-1===r?s[0]="今天":0===r&&(s[0]="昨天"),s};t&&t.length>0&&this.getStatusList(),Object(l["j"])(t,t=>{var i,a,r,c;let d="",p=[],u=[];const _=Object(n["C"])(t,"tpl_groups.0.fields",[]);Object(l["j"])(_,t=>{"textarea"===t.type?d=t.value:"image"===t.type?p=t.value:"audio"===t.type&&(u=t.value)});let g=[];const h=[{text:null===t||void 0===t?void 0:t.process_status_txt,value:null===t||void 0===t?void 0:t.process_status,textColor:null===t||void 0===t?void 0:t.option_color,bgColor:null!==t&&void 0!==t&&t.option_color?Object(n["X"])(t.option_color,.1):""}];let m={};h.length&&(g=h,g[0].textColor=h[0].textColor,g[0].bgColor=h[0].bgColor,g[0].option_value=Number(t.process_status),g[0].option_text=Object(n["C"])(t,"process_status_txt"),m=g[0]);const v=Object(n["C"])(t,"tpl_type")||0,f=n["bb"].getTplType7State(t),y=this.handleCodeReviewValue(d);let b;b="管理员"===t.recorder?t.recorder.substring(0,2):-1!==t.recorder.indexOf("****")?"_mobile":t.recorder.substring(t.recorder.length-2);const C="batchCreateRecord"===(null===t||void 0===t||null===(i=t.record_create_information)||void 0===i?void 0:i.entry_form_mode_value);e.push({user_id:null!==(a=null===t||void 0===t?void 0:t.user_id)&&void 0!==a?a:0,recorder_no_auth:null!==(r=null===t||void 0===t?void 0:t.recorder_no_auth)&&void 0!==r?r:0,tpl_name:Object(n["C"])(t,"record_tpl_info.name"),operation_name:Object(n["C"])(t,"operation_name"),add_time:s(t.add_time_timestamp),recorder:t.recorder,log_result:Object(n["C"])(t,"record_result_value_txt"),log_result_title:Object(n["C"])(t,"record_result_field_title"),cusNumbers:o(t.tpl_groups),tpl_type:v,create_avatar_url:Object(n["C"])(t,"create_avatar_url"),textAreaValue:d,imgDatas:p,audioData:u,fieldValueDataArr:y,recordStatus:m,review_count:Object(n["C"])(t,"review_count"),recorderLimit:b,tplType7State:f,wxWorkMsg:Object(n["C"])(t,"wx_work_msg",{}),isNameRecordResult:"name"===Object(n["C"])(t,"record_result_list.0.record_result_field_type"),tpl_groups:t.tpl_groups,isBatchCreated:C,is_del:null!==(c=null===t||void 0===t?void 0:t.is_del)&&void 0!==c?c:0})}),this.records=e,this.recordsTotal=Object(n["C"])(h,"data.page.record_total",0),this.openRecordActive=Object(n["C"])(h,"data.org_msg.open_record_active",0)}this.getRecordLoading=!1}enUnicode(t){let e="";for(let o=0;o<t.length;o+=1)e+="\\u"+("0000"+t.charCodeAt(o).toString(16)).slice(-4);return e}deUnicode(t){let e=t.split("\\u");t.startsWith("\\u")&&(e=e.slice(1,e.length)),t.endsWith("\\u")&&(e=e.slice(0,e.length-1));let o="";for(let s=0;s<e.length;s+=1)o+=String.fromCharCode(parseInt(e[s],16));return o}handleCodeReviewValue(t){const e=t,o=[],s=this.enUnicode(e),i=s.split(/(\\u0040.*?\\u2005)/);return Object(l["j"])(i,t=>{if(""!==t){const e=t.split(/\\u2005/),s=this.deUnicode(t);e.length<2?o.push({type:1,value:s}):o.push({type:3,value:s})}}),o}calcBtnColor(){const t=this.codeColorInfo;let e="",o="";Object(n["I"])(["#f8f8f8","#fff","#ffffff"],t.themeColor)?(o="#07c160",e="#ffffff"):Object(n["I"])(["#fff","#ffffff"],t.foreColor)?(o=t.themeColor,e="#ffffff"):(o=t.lowThemeColor,e="#ffffff"),this.expBtnColor=e,this.expBtnBG=o}formatTimestamp(t){return Object(l["Z"])(t)}transColor(t){return Object(K["d"])(t)}isEmptyContent(t){return Object(K["c"])(t)}timestamp2Date(t){return Object(l["Y"])(t)}cutRecordTitle(t){return t?t.length<=8?[t.slice(0,4),t.slice(4)]:[t.slice(0,4),t.slice(4,7)+"..."]:[t]}showDot(t){return t<this.$$getValue(this.logMsg,"data_list.0.time_limit_record.length",0)-1}get codeColorInfo(){return this.forCheckInRich?{recordEntry:{bg:"rgba(0, 0, 0, 0.05)",titleColor:"#333",other:"rgba(0, 0, 0, 0.87)"},type:"pure"}:this.codeData.codeCommonInfo.codeColorInfo}getForeColor(){return"color: "+this.codeColorInfo.recordEntry.titleColor}showTip(t,e){this.$emit("showTip",t,e)}showRuleIntro(){this.$emit("showTip","","normal")}calcMinaBottom(){const t=this.overIphoneX;let e=0,o=10;return this.showToMinaTips&&(e+=60,t&&(e+=30)),this.showToMinaTips||(o+=t?30:4),`bottom: ${this.$$u(e)};padding-bottom: ${this.$$u(o)};`}get capture(){return this.$$appStore.h5QueryString.capture||""}hideHalfScreenOperate(){var t;null===(t=this.$refs.halfScreenOperate)||void 0===t||t.close()}};Object(a["a"])([Object(r["c"])({type:Object,default:()=>({})})],vt.prototype,"codeData",void 0),Object(a["a"])([Object(r["c"])({type:String,default:""})],vt.prototype,"title",void 0),Object(a["a"])([Object(r["c"])({type:String,default:()=>""})],vt.prototype,"originalId",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:()=>!1})],vt.prototype,"wxConfigReady",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:()=>!1})],vt.prototype,"noNewestRecord",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:()=>!1})],vt.prototype,"noRecordTag",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:()=>!0})],vt.prototype,"isCompEmpty",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:()=>!1})],vt.prototype,"noAddRecordBtn",void 0),Object(a["a"])([Object(r["c"])({type:Number,default:()=>1})],vt.prototype,"isPaidUser",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:()=>!1})],vt.prototype,"forCheckInRich",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:()=>!1})],vt.prototype,"hasOpenRecordLog",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:()=>!1})],vt.prototype,"isH5FromWeixin",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],vt.prototype,"showToMinaTips",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!0})],vt.prototype,"showOperatePanel",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!0})],vt.prototype,"showDynamic",void 0),Object(a["a"])([Object(r["c"])({type:String,default:"1"})],vt.prototype,"currentFontSize",void 0),Object(a["a"])([Object(r["c"])({type:String,default:"1"})],vt.prototype,"currentFontSizeWithoutApply",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],vt.prototype,"placeBottom",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],vt.prototype,"afterContent",void 0),Object(a["a"])([Object(r["c"])({type:String,default:"qrcode"})],vt.prototype,"dataType",void 0),Object(a["a"])([Object(r["c"])({type:Object,default:null})],vt.prototype,"cmpInfo",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],vt.prototype,"isBgImgMode",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],vt.prototype,"hasCodeContent",void 0),Object(a["a"])([Object(r["c"])({type:Boolean,default:!1})],vt.prototype,"isColorExtend",void 0),Object(a["a"])([Object(r["e"])("codeData",{deep:!0})],vt.prototype,"codeDataChange",null),vt=Object(a["a"])([Object(r["a"])({components:{RecordForm:d["a"],TimeLineLists:H,RecordBlockLists:J,StatusPanel:ct,OperateStats:mt,BottomModal:X["a"]},computed:{isBottomCardStyle(){const t=[et["c"].List1,et["c"].List3,et["c"].UnionList,et["c"].TimeLine];return this.afterContent&&Object(n["I"])(t,this.dynamicStyleType)},dynamicStyleType(){const{dynamicStyleCfg:t,logMsg:e}=this,o=Object(n["C"])(e,"recordview_position",et["c"].UnionList);return t&&t.styleType||o},show1(){const{logMsg:t}=this;return"qrcode_19_noPowerError"===t.status_code},show2(){const{noNewestRecord:t,codeData:e}=this;return!t&&!e.record_summary_status&&2!==e.recordview_position},show3(){const{logMsg:t,noAddRecordBtn:e,operateData:o}=this;return 0===t.expand_log||4===t.expand_log||5===t.expand_log||6===t.expand_log||t.expand_log===et["b"].IconList||(e||t.expand_log===et["b"].Expand)&&o.length>1},show4(){const{logMsg:t,noAddRecordBtn:e,operateData:o}=this;return(1===t.expand_log||e)&&1===o.length&&!!o[0].$elData},isIconList(){const{logMsg:t}=this;return t.expand_log===et["b"].IconList},hasRecordContent(){const{show1:t,show2:e,show3:o,show4:s}=this;return t||e||o||s},hasTopModule(){const{codeData:t}=this,e=t.qrcode_top_component;return!!e&&Object(n["cb"])(e,t=>Object(n["I"])(["audio","video","image","file"],t.component_code))},hasTaskOrStatus(){const{codeData:t}=this;return!!Object(n["C"])(t,"statusList.length")||!!Object(n["C"])(t,"tasksList.length")},logMsgTag(){const{codeData:t}=this;return Object(l["db"])(Object(n["C"])(t,"log_msg_tag",""))},mainColor(){const{codeInfo:t}=this.$$appStore,{show4:e}=this,{codeColorInfo:o}=null!==t&&void 0!==t?t:{},{themeColor:s,foreColor:i}=null!==o&&void 0!==o?o:{},a=Object(n["I"])(["#fff","#ffffff"],(i||"").toLocaleLowerCase());return e&&a?s:"#166bc7"},bottomBtnBgColor(){const{isBgImgMode:t,hasCodeContent:e,codeColorInfo:o,codeData:s,expBtnBG:i,noAddRecordBtn:a,logMsg:r,isColorExtend:n}=this,{lowCrtColor:c,type:l,gradient:d}=null!==o&&void 0!==o?o:{},p=!a&&2===(null===r||void 0===r?void 0:r.expand_log),{hasOpenMsg:u}=null!==s&&void 0!==s?s:{};return(n||t&&!e)&&p&&u?c:"pure"===l?i:null===d||void 0===d?void 0:d.recordButtonEntryBackground},gridOperateData(){const t=this.afterContent&&!this.isCodeEmpty,e=Object(n["e"])(this.operateData)||[],o=e.length||0;return t&&Object(l["j"])(e,(t,e)=>{const s=e;t.renderClass="",(o<=3&&s%3===0||o>3&&s%3===0&&s+3>=o)&&(t.renderClass+=" br-bl"),(o<=3&&o===s+1||o>3&&2===s)&&(t.renderClass+=" br-tr"),o%3&&s%3===2&&s+3>=o&&(t.renderClass+=" br-br")}),e},managerAuth(){const t=Object(n["C"])(this.codeData,"log_msg.visible_auth",0);let e=!1,o="";if(Object(n["I"])([1,13],t)&&this.$$appStore.h5QueryString.frompc){var s,i,a,r;e=!0,o=1===t?"指定的高级成员可查看全部数据":"组织成员可查看全部数据";const n=Object(l["h"])(null===(s=this.codeData.log_msg)||void 0===s||null===(i=s.auth_info)||void 0===i?void 0:i.auth_list,t=>7===t.data_type&&"visible"===t.privi_type),c=1===(null===n||void 0===n||null===(a=n.group_list)||void 0===a?void 0:a.length)&&6===(null===(r=n.group_list[0])||void 0===r?void 0:r.group_type)&&6===n.group_list[0].is_default;c&&(o="管理员可查看全部数据")}return{showTip:e,tipText:o}}}})],vt);var ft=vt,yt=ft,bt=(o("2cda"),o("1c33"),Object(w["a"])(yt,s,i,!1,null,"082af7e0",null));e["a"]=bt.exports},6542:function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"popup"},[o("transition",{attrs:{name:"fade"}},[t.show?o("div",{staticClass:"mask",style:t.maskStyle,on:{click:t.close}}):t._e()]),o("transition",{attrs:{name:"slide"}},[t.show?o("div",{staticClass:"bottom-modal",style:t.modalStyle},[t._t("header"),t._t("content"),t._t("footer")],2):t._e()])],1)},i=[],a=o("9ab4"),r=o("1b40");let n=class extends r["d"]{constructor(){super(...arguments),this.show=!1}showModal(){this.show||(this.show=!0,this.$emit("open"))}close(){this.show&&(this.show=!1,this.$emit("close"))}shadeClicked(){this.close()}};Object(a["a"])([Object(r["c"])({type:Boolean,default:!0})],n.prototype,"showMask",void 0),Object(a["a"])([Object(r["c"])({type:Object,default:{}})],n.prototype,"modalStyle",void 0),Object(a["a"])([Object(r["c"])({type:Object,default:{}})],n.prototype,"maskStyle",void 0),n=Object(a["a"])([r["a"]],n);var c=n,l=c,d=(o("ec15"),o("2877")),p=Object(d["a"])(l,s,i,!1,null,"3e3a1060",null);e["a"]=p.exports},7560:function(t,e,o){"use strict";o("1848")},7963:function(t,e,o){"use strict";o.d(e,"c",(function(){return s})),o.d(e,"a",(function(){return a})),o.d(e,"g",(function(){return m})),o.d(e,"e",(function(){return v})),o.d(e,"b",(function(){return f})),o.d(e,"d",(function(){return y})),o.d(e,"f",(function(){return b}));var s,i,a,r,n,c,l=o("131c"),d=o("8e05");(function(t){t[t["Head"]=1]="Head",t[t["Hide"]=2]="Hide",t[t["Body"]=3]="Body"})(s||(s={})),function(t){t[t["One"]=1]="One",t[t["Three"]=3]="Three",t["Custom"]="custom"}(i||(i={})),function(t){t[t["Result"]=1]="Result",t[t["Images"]=2]="Images",t[t["Signature"]=3]="Signature",t["Count"]="count"}(a||(a={})),function(t){t[t["Total"]=1]="Total",t[t["CurrentWeek"]=2]="CurrentWeek",t[t["CurrentMonth"]=3]="CurrentMonth",t[t["CurrentYear"]=4]="CurrentYear",t[t["LastYear"]=5]="LastYear",t[t["LastMonth"]=6]="LastMonth",t[t["LastWeek"]=7]="LastWeek",t[t["Today"]=8]="Today",t[t["Yesterday"]=9]="Yesterday"}(r||(r={})),function(t){t[t["Stats"]=1]="Stats",t[t["ClosedStats"]=2]="ClosedStats"}(n||(n={})),function(t){t[t["Total"]=1]="Total",t[t["Result"]=2]="Result",t[t["ClosedStatus"]=3]="ClosedStatus"}(c||(c={}));const p=[a.Result,a.Images],u=[d["c"].List1,d["c"].List3],_=t=>Object(l["I"])(u.concat(d["c"].UnionList),t),g=[s.Head,s.Body,s.Hide],h=({posType:t,styleType:e})=>e===d["c"].Hide?s.Hide:t&&Object(l["I"])(g,t)?t:s.Head,m=t=>{const{recordview_position:e,recordview_extend:o}=t,a={styleType:d["c"].TimeLine,posType:s.Head,showCount:i.Three,showContent:Object(l["e"])(p),statsList:[]},r=e||d["c"].TimeLine,n=_(r)?d["c"].UnionList:r;if(!o)return a;const{nums:c,content_type:u,content_position:g}=(null===o||void 0===o?void 0:o.ext_info)||{nums:i.Three,content_type:Object(l["e"])(p),content_position:s.Head},m=h({posType:g,styleType:n}),v=Object(l["e"])((null===o||void 0===o?void 0:o.statistics_configs)||[]);return Object(l["a"])(a,{styleType:n,posType:m,showCount:c,showContent:u,statsList:v})},v=t=>{const e=(null===t||void 0===t?void 0:t.tpl_groups)||[],o=[];return Object(l["m"])(e,t=>{const e=t.fields||[],s=Object(l["j"])(e,t=>"image"===(null===t||void 0===t?void 0:t.type));Object(l["m"])(s,t=>{const e=t.value||[];Array.isArray(e)&&o.push(...e)})}),o};var f;(function(t){t[t["Head"]=1]="Head",t[t["BodyBottom"]=2]="BodyBottom",t[t["Hide"]=3]="Hide"})(f||(f={}));const y=t=>{t||console.error("dataSource is expected in getDynamicShowPos(), dataSource: ",t);const e=Object(l["C"])(t,"expand_log")||d["b"].BlockList;if(e===d["b"].Hide)return d["b"].Hide;const o=Object(l["C"])(t,"recordview_extend.operation_ext_info"),s=+Object(l["C"])(o,"content_position",f.Head);return s},b=t=>{const e=(null===t||void 0===t?void 0:t.tpl_groups)||[],o=[];return Object(l["m"])(e,t=>{const e=t.fields||[],s=Object(l["j"])(e,t=>"signature"===(null===t||void 0===t?void 0:t.type));Object(l["m"])(s,t=>{const e=t.value||[];Array.isArray(e)&&o.push(...e)})}),o}},"85ff":function(t,e,o){},a834:function(t,e,o){},b46a:function(t,e,o){},d61c:function(t,e,o){"use strict";o("a834")},e139:function(t,e,o){},e319:function(t,e,o){},e5a8:function(t,e,o){"use strict";o("5980")},e722:function(t,e,o){},ec15:function(t,e,o){"use strict";o("4534")},ec21:function(t,e,o){"use strict";o("e722")},f2ae:function(t,e,o){"use strict";o("b46a")}}]);